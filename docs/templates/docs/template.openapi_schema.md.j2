<!-- File: templates/docs/template.openapi_schema.md.j2 -->
<!-- Path: codex/templates/docs/template.openapi_schema.md.j2 -->

# ðŸ“˜ OpenAPI Schema Dokumentation

## ðŸ§­ API Ãœbersicht

**Titel**: {{ info.title }}  
**Version**: {{ info.version }}  
**Beschreibung**:  
{{ info.description }}

---

## ðŸ“š Pfade

{% for path, path_item in paths.items() %}
### {{ path }}

{% for method, operation in path_item.items() %}
#### `{{ method | upper }}`

- **Summary**: {{ operation.summary or "â€“" }}
- **Beschreibung**: {{ operation.description or "â€“" }}
- **Operation ID**: `{{ operation.operationId }}`
- **Tags**: {{ operation.tags | join(", ") }}

##### ðŸ”¸ Parameter

{% if operation.parameters %}
| Name | In | Typ | Beschreibung |
|------|----|-----|--------------|
{% for param in operation.parameters %}
| `{{ param.name }}` | {{ param.in }} | {{ param.schema.type }} | {{ param.description or "â€“" }} |
{% endfor %}
{% else %}
Keine Parameter.
{% endif %}

##### ðŸ”¹ Request Body

{% if operation.requestBody %}
**Content-Type**: {{ operation.requestBody.content.keys() | list | join(", ") }}

{% for content_type, content in operation.requestBody.content.items() %}
- **Schema**: `{{ content.schema['$ref'].split('/')[-1] if content.schema['$ref'] else content.schema.type }}`
{% endfor %}
{% else %}
Kein Body definiert.
{% endif %}

##### ðŸ”¸ Responses

{% for code, response in operation.responses.items() %}
- **{{ code }}**: {{ response.description }}
{% endfor %}

---
{% endfor %}
{% endfor %}

## ðŸ§¾ Komponenten

{% for name, schema in components.schemas.items() %}
### ðŸ“¦ {{ name }}

| Feld | Typ | Beschreibung |
|------|-----|--------------|
{% for prop, details in schema.properties.items() %}
| `{{ prop }}` | {{ details.type }} | {{ details.description or "-" }} |
{% endfor %}

{% endfor %}